Немного слов об изменениях.

1. Расчёты сделаны не для элементов в цикле а для всех векторов сразу(используем векторизацию)
2. Условия расчитаны тоже в вектор и оформлены отдельной функцией.
3. В результирующих данных исключён один вектор временных характеристик, т.к. у них обоих даже алгоритмы расчёта сопадали. Впрочем, если менять количество и порядок входных-выходных параметров нельзя, то можно его оставить, но второй раз внутри не считать. Хотя глядя на пример, когда для вызова обеих функций используются одни и те же переменные, соответственно, после второго вызова первые значения затираются...  Думаю, выходные параметры надо было поменять. 
4. Количество входных параметров в CalculatePrices изменять не стал, хотя часть из них просто не используется. Воможно, это где-то необходимо для совместимости шаблонов функций CalculatePrices и CalculateRV.
5. Просто нечто непонятное - при расчёте resBid всей формулой целиком у меня выдёт ошибку о несовместимости размеров векторов. Если разложить на части, всё проходит... Поэтому расчёт 0.5*(ap-bp)./(aq+ bq), котрый используется два раза отдельно в переменную выносить не стал, хотя стоило бы.

